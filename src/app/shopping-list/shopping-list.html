<div id="container">
    <h1>Lista de Compras</h1>
    
    <form id="form" #form="ngForm" id="form" (ngSubmit)="addItem()">
        <input 
            name="itemDigitado" 
            type="text" 
            id="item" 
            placeholder="Digite o nome do item" 
            [(ngModel)]="item"
        >
        <button matButton="filled" type="submit">Adicionar</button>
        <button matButton="filled" type="button" (click)="clearList()">Limpar Lista</button>
    </form>

    <table>
        <thead>
            @if (listOfItems.length) {
                <tr>      
                    <th class="small">#</th>
                    <th>Itens</th>
                    <th class="small"></th>
                    <th class="small"></th>
                </tr>
            } @else {
                <tr>
                    <th colspan="4">Itens</th>
                </tr>
            }
        </thead>
        <tbody>
            @for(item of listOfItems; track item.id; let i = $index) {
                <tr>
                    <td>{{ i + 1 }}</td>
                    <td [ngClass]="{ 'checked' : item.checked}">{{ item.name }}</td>
                    <td>
                        <mat-checkbox (click)="checkItem(item)"></mat-checkbox>
                    <td>
                        <button id="trash-button" aria-label="remove item" (click)="removeItem(item)">
                            <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="delete"></mat-icon>
                        </button>
                    </td>
                </tr>
            } @empty {
                <tr colspan="4">
                    <td>Nenhum item adicionado</td>                    
                </tr> 
            }
        </tbody>
    </table>
</div>